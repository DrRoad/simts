# Copyright (C) 2014 - 2017 James Balamuta, Stephane Guerrier, Roberto Molinari
#
# This file is part of simts R Methods Package
#
# The `simts` R package is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as
# published by the Free Software Foundation, either version 3 of the
# License, or (at your option) any later version.
#
# The `simts` R package is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.


#' @title Install IMU Data Package
#' @description Downloads and Install the IMU Data Package to use with the simts Package
#' @param type A \code{string} with value \code{"ONL"} or \code{"LOCAL"}
#' @param loc  A \code{string} that contains the file location.
#' @details 
#' The IMU Data Package contains data from real life IMUs and is approximately a
#'  20 MB download.
#' @author James Balamuta
#' @examples 
#' \dontrun{
#' # Online install
#' install_imudata()
#' 
#' # Local install
#' install_imudata("LOCAL","C:/Users/James/Documents/imudata_x.y.z.tar.gz")
#' }
install_imudata = function(type="ONL",loc=NULL){
  install_data_package("imudata", type, loc)
}

#' @title Install SMAC Data Package
#' @description Downloads and Install the SMAC Data Package to use with the simts Package
#' @details 
#' The SMAC Data Package contains data sets used in various packages.
#' @author Justin Lee
#' @examples 
#' \dontrun{
#' # Online install
#' install_smacdata()
#' }
#' @importFrom devtools install_github
#' @export
install_smacdata = function(){
  install_github("SMAC-Group/smacdata")
}

#' @title Install Data Package
#' @description Downloads and Install the Data Package to use with the simts Package
#' @param type A \code{string} with value \code{"ONL"} or \code{"LOCAL"}
#' @param loc  A \code{string} that contains the file location.
#' @author James Balamuta
#' @examples 
#' \dontrun{
#' # Online install
#' install_datapkg()
#' 
#' # Local install
#' install_datapkg("LOCAL","C:/Users/James/Documents/datapkg_x.y.z.tar.gz")
#' }
install_datapkg = function(type="ONL",loc=NULL){
  install_data_package("datapkg", type, loc)
}


#' @title Install a SMAC Group Data Package
#' @description Downloads and Install the a SMAC Group Data Package to use.
#' @param pkg  A \code{string} with the package name to install.
#' @param type A \code{string} with value \code{"ONL"} or \code{"LOCAL"}
#' @param loc  A \code{string} that contains the file location.
#' @details 
#' For a list of data packages please see the SMAC-Group data repo \url{http://smac-group.com/datarepo}.
#' @author James Balamuta
#' @keywords internal
#' @examples 
#' \dontrun{
#' # Online install
#' install_data_package("imudata")
#' 
#' # Local install
#' install_data_package("LOCAL","C:/Users/James/Documents/imudata_x.y.z.tar.gz")
#' }
install_data_package = function(pkg = "imudata", type = "ONL", loc = NULL){
  type = toupper(type)
  
  if(type == "ONL"){
    install.packages(pkg, repos = "http://smac-group.com/datarepo")
  }else{
    if(!is.null(loc)){ 
      message("Installing the package using a local .tar file.")
      message("Note: You must have a compiler installed!")
      install.packages(loc, type="source")
    }else{ 
      message("To install locally, you must also set the `loc` paramter!")
    }
  }
  
}