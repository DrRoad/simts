<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Time Series Simulations • simts</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">simts</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/vignettes.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SMAC-Group/simts">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Time Series Simulations</h1>
            
          </div>

    
    
<div class="contents">
<p>In this section, we will briefly show some of the <code>simts</code> package functionalities. In the examples shown here, time series data may take the form of either a one-column <code>matrix</code>, <code>data.frame</code>, or numeric <code>vector</code>.</p>
<p>The following three datasets stored in <code>simts</code> will be used as examples.</p>
<ul>
<li>
<a href="https://rdrr.io/github/SMAC-Group/datapkg/man/hydro.html">hydro</a>: This time series contains the monthly precipitation from 1907 and going to 1972 for total of 781 observations taken from <span class="citation">Hipel and McLeod (1994)</span>.</li>
<li>
<a href="https://rdrr.io/github/SMAC-Group/datapkg/man/savingrt.html">savingrt</a>: This dataset contains the US personal saving (after removing seasonal trends) which represent the percentage of income saved from the disposable personal income. This time series with frequency 12 starting in year 1959 and going to 2016 for a total of 691 observations.</li>
<li>
<a href="http://r-exercises.com/wp-content/uploads/2017/04/sales.csv">sales</a>: This dataset contains the US monthly clothing retail sales in millions of dollars taken from 1992 to 2016 for a total of 302 observations.</li>
<li>
<a href="https://stat.ethz.ch/R-manual/R-devel/library/datasets/html/Nile.html">Nile</a>: This time series contains the measurements of the annual flow of the river Nile at Aswan (formerly Assuan), 1871–1970, in <span class="math inline">\(10^8 m^3\)</span> taken from Table 1 of <span class="citation">Cobb (1978)</span>.</li>
</ul>
<p>The code below shows how to setup a time series as a <code><a href="../reference/gts.html">gts()</a></code> object. Here, we take samples from each dataset at a rate of <code>freq</code> ticks per sample. By applying <code>plot()</code> on the result of a <code><a href="../reference/gts.html">gts()</a></code> object, we can observe a simple visualization of our data.</p>
<div id="hydrology" class="section level3">
<h3 class="hasAnchor">
<a href="#hydrology" class="anchor"></a>Hydrology</h3>
<p>Frist, we consider the <code>hydro</code> dataset. The code below shows how to construct a <code>gts</code> object and plot the resulting time series.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load hydro dataset</span>
<span class="kw">data</span>(<span class="st">"hydro"</span>)

<span class="co"># Simulate based on data</span>
hydro =<span class="st"> </span><span class="kw"><a href="../reference/gts.html">gts</a></span>(<span class="kw">as.vector</span>(hydro), <span class="dt">start =</span> <span class="dv">1907</span>, <span class="dt">freq =</span> <span class="dv">12</span>, <span class="dt">unit_ts =</span> <span class="st">"in."</span>, 
            <span class="dt">name_ts =</span> <span class="st">"Precipitation"</span>, <span class="dt">data_name =</span> <span class="st">"Precipitation data from Hipel et al., (1994)"</span>)

<span class="co"># Plot hydro simulation</span>
<span class="kw">plot</span>(hydro)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-2-1.png" alt="Figure 1: Monthly  precipitation  series  from  1907  to  1972  taken  from @hipel1994time" width="696"><p class="caption">
Figure 1: Monthly precipitation series from 1907 to 1972 taken from <span class="citation">Hipel and McLeod (1994)</span>
</p>
</div>
<p>Using the object we created we can now compute its autocorrelation function using the <code><a href="../reference/ACF.html">ACF()</a></code> function as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compute ACF and plot result</span>
hydro_acf =<span class="st"> </span><span class="kw"><a href="../reference/ACF.html">ACF</a></span>(hydro)
<span class="kw">plot</span>(hydro_acf)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-3-1.png" alt="Figure 2: Empirical autocorrelation function of monthly  precipitation  series  from @hipel1994time" width="696"><p class="caption">
Figure 2: Empirical autocorrelation function of monthly precipitation series from <span class="citation">Hipel and McLeod (1994)</span>
</p>
</div>
<p>This graph reveals that this time series does not appear to present any form of autocorrelation. A different visual analysis might be given by a robust estimator of the autocorrelation function.</p>
</div>
<div id="personal-savings" class="section level3">
<h3 class="hasAnchor">
<a href="#personal-savings" class="anchor"></a>Personal Savings</h3>
<p>Similarly to the first dataset, we now consider the <code>savingrt</code> time series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load savingrt dataset</span>
<span class="kw">data</span>(<span class="st">"savingrt"</span>)
<span class="co"># Simulate based on data</span>
savingrt =<span class="st"> </span><span class="kw"><a href="../reference/gts.html">gts</a></span>(<span class="kw">as.vector</span>(savingrt), <span class="dt">start =</span> <span class="dv">1959</span>, <span class="dt">freq =</span> <span class="dv">12</span>, <span class="dt">unit_ts =</span> <span class="st">"%"</span>, 
            <span class="dt">name_ts =</span> <span class="st">"Saving Rates"</span>, <span class="dt">data_name =</span> <span class="st">"US Personal Saving Rates"</span>)
<span class="co"># Plot savingrt simulation</span>
<span class="kw">plot</span>(savingrt)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-4-1.png" alt="Figure 3: Monthly  (seasonally  adjusted)  Personal Saving  Rates data  from  January  1959  to  May  2015  provided  by  the Federal  Reserve  Bank  of  St.  Louis." width="696"><p class="caption">
Figure 3: Monthly (seasonally adjusted) Personal Saving Rates data from January 1959 to May 2015 provided by the Federal Reserve Bank of St. Louis.
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compute ACF and plot result</span>
savingrt_acf =<span class="st"> </span><span class="kw"><a href="../reference/ACF.html">ACF</a></span>(savingrt)
<span class="kw">plot</span>(savingrt_acf)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-5-1.png" alt="Figure 4: Empirical autocorrelation function of Personal Saving  Rates data" width="696"><p class="caption">
Figure 4: Empirical autocorrelation function of Personal Saving Rates data
</p>
</div>
<p>This graph indicates that this time series is likely to present some non-stationary features. This is actually not a surprising observation as such data are often assumed to be close to a random walk model.</p>
</div>
<div id="retail-sales" class="section level3">
<h3 class="hasAnchor">
<a href="#retail-sales" class="anchor"></a>Retail Sales</h3>
<p>Let’s consider the next dataset, the <code>sales</code> time series:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load sales dataset</span>
<span class="kw">data</span>(<span class="st">"sales"</span>)

<span class="co"># Simulate based on data</span>
sales =<span class="st"> </span><span class="kw"><a href="../reference/gts.html">gts</a></span>(<span class="kw">as.vector</span>(sales), <span class="dt">start =</span> <span class="dv">1992</span>, <span class="dt">freq =</span> <span class="dv">12</span>, <span class="dt">name_time =</span> <span class="st">"Month"</span>,
            <span class="dt">unit_ts =</span> <span class="kw">bquote</span>(<span class="kw">paste</span>(<span class="dv">10</span>^<span class="dv">6</span>,<span class="st">"$"</span>)), <span class="dt">name_ts =</span> <span class="st">"Retail Sales"</span>, 
            <span class="dt">data_name =</span> <span class="st">"Monthly Clothing Retail Sales in US for 1992-2016"</span>)


<span class="co"># Plot sales simulation</span>
<span class="kw">plot</span>(sales)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-6-1.png" alt="Figure 5: Monthly Clothing Retail Sales in US for 1992-2016" width="696"><p class="caption">
Figure 5: Monthly Clothing Retail Sales in US for 1992-2016
</p>
</div>
<p>After creating the time series object, now we can compute its autocorrelation function and partial autocorrelation function by using <code><a href="../reference/ACF.html">ACF()</a></code> and <code><a href="../reference/PACF.html">PACF()</a></code> as follows:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compute ACF and plot result</span>
sales_acf =<span class="st"> </span><span class="kw"><a href="../reference/ACF.html">ACF</a></span>(sales)
<span class="kw">plot</span>(sales_acf)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-7-1.png" alt="Figure 6: Empirical autocorrelation function of Monthly Clothing Retail Sales in US for 1992-2016" width="696"><p class="caption">
Figure 6: Empirical autocorrelation function of Monthly Clothing Retail Sales in US for 1992-2016
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Compute PACF and plot result</span>
sales_pacf =<span class="st"> </span><span class="kw"><a href="../reference/PACF.html">PACF</a></span>(sales)
<span class="kw">plot</span>(sales_pacf)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-8-1.png" alt="Figure 7: Empirical partial autocorrelation function of Monthly Clothing Retail Sales in US for 1992-2016" width="696"><p class="caption">
Figure 7: Empirical partial autocorrelation function of Monthly Clothing Retail Sales in US for 1992-2016
</p>
</div>
<p>You can also use <code><a href="../reference/corr_analysis.html">corr_analysis()</a></code> function in the package to get the same results as above:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compute and plot ACF and PACF</span>
sales_corr =<span class="st"> </span><span class="kw"><a href="../reference/corr_analysis.html">corr_analysis</a></span>(sales)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-9-1.png" alt="Figure 8: Empirical ACF and PACF of Monthly Clothing Retail Sales in US for 1992-2016" width="696"><p class="caption">
Figure 8: Empirical ACF and PACF of Monthly Clothing Retail Sales in US for 1992-2016
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get ACF and PACF values</span>
sales_acf =<span class="st"> </span>sales_corr$ACF
sales_pacf =<span class="st"> </span>sales_corr$PACF</code></pre></div>
<p>The autocorrelation graph reveals that there exits some seasonal features in this time series. As we can expect, the sales data is likely to present similar behaviors from year to year.</p>
</div>
<div id="nile-river-flow" class="section level3">
<h3 class="hasAnchor">
<a href="#nile-river-flow" class="anchor"></a>Nile River Flow</h3>
<p>Finally, we consider the last dataset in the code below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Load Nile dataset</span>
Nile =<span class="st"> </span>datasets::Nile

<span class="co"># Simulate based on data</span>
nile =<span class="st"> </span><span class="kw"><a href="../reference/gts.html">gts</a></span>(<span class="kw">as.vector</span>(Nile), <span class="dt">start =</span> <span class="dv">1871</span>, <span class="dt">end =</span> <span class="dv">1970</span>, <span class="dt">freq =</span> <span class="dv">1</span>, 
           <span class="dt">unit_ts =</span> <span class="kw">bquote</span>(<span class="kw">paste</span>(<span class="dv">10</span>^<span class="dv">8</span>,<span class="st">" "</span>,m^<span class="dv">3</span>)), <span class="dt">name_ts =</span> <span class="st">"Flow"</span>, 
           <span class="dt">name_time =</span> <span class="st">"Years"</span>, <span class="dt">data_name =</span> <span class="st">"Annual Flow of the Nile River"</span>)

<span class="co"># Plot Nile simulation </span>
<span class="kw">plot</span>(nile)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-10-1.png" alt="Figure 9: Plot of Annual Nile river flow from 1871-1970" width="696"><p class="caption">
Figure 9: Plot of Annual Nile river flow from 1871-1970
</p>
</div>
<p>To get ACF, we can use <code><a href="../reference/ACF.html">ACF()</a></code> and make a plot:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compute ACF and plot result</span>
nile_acf =<span class="st"> </span><span class="kw"><a href="../reference/ACF.html">ACF</a></span>(nile)
<span class="kw">plot</span>(nile_acf)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-11-1.png" alt="Figure 10: Empirical autocorrelation function of the Nile river flow data" width="696"><p class="caption">
Figure 10: Empirical autocorrelation function of the Nile river flow data
</p>
</div>
<p>Similar to the example above, we can also use <code><a href="../reference/corr_analysis.html">corr_analysis()</a></code> to get the ACF and PACF at the same time:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Compute and plot ACF and PACF</span>
nile_corr =<span class="st"> </span><span class="kw"><a href="../reference/corr_analysis.html">corr_analysis</a></span>(nile)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="sim_data_files/figure-html/unnamed-chunk-12-1.png" alt="Figure 11: Empirical ACF and PACF of the Nile river flow data" width="696"><p class="caption">
Figure 11: Empirical ACF and PACF of the Nile river flow data
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get ACF and PACF values</span>
nile_acf =<span class="st"> </span>nile_corr$ACF
nile_pacf =<span class="st"> </span>nile_corr$PACF</code></pre></div>
</div>
<div id="missing-features" class="section level2">
<h2 class="hasAnchor">
<a href="#missing-features" class="anchor"></a>Missing features:</h2>
<ul>
<li>Add new dataset</li>
<li>Add robust estimators</li>
<li>Add content of “Sample Analyses using exts” to the packages and the appropriate vignettes</li>
<li>Add content (similarly to above) of “Experimental Time Series Features”</li>
<li>Check slides and add content to this page (see forecast function)</li>
</ul>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-cobb1978problem">
<p>Cobb, George W. 1978. “The Problem of the Nile: Conditional Solution to a Changepoint Problem.” <em>Biometrika</em>. JSTOR, 243–51.</p>
</div>
<div id="ref-hipel1994time">
<p>Hipel, Keith W, and A Ian McLeod. 1994. <em>Time Series Modelling of Water Resources and Environmental Systems</em>. Vol. 45. Elsevier.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#missing-features">Missing features:</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Justin Lee, Stéphane Guerrier, James Balamuta.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
